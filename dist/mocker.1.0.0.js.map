{"version":3,"sources":["webpack:///webpack/bootstrap cdca72944c576a124db1?6c89","webpack:///./src/mocker/Data/index.js?e22d","webpack:///./src/mocker/constant.js?9841","webpack:///./src/mocker/config.js?aa3c","webpack:///./src/mocker/Gui/Browser.js?da44","webpack:///./src/mocker/MockerHttpRequest/index.js?c7d8","webpack:///./package.json?ed88","webpack:///./src/mocker/Data/Database.js?b0ed","webpack:///./src/mocker/MockerHttpRequest/MockerHttpRequest.js?5436","webpack:///./src/mocker/util/Util.js?a255","webpack:///./src/mocker/util/index.js?ab53","webpack:///./src/mocker/Gui/Browser.html?c668","webpack:///./src/mocker/index.js?a371"],"names":["MOCKERHTTPREQUEST_DELAY","XHR_EVENTS","READYSTATECHANGE","LOADSTART","PROGRESS","ABORT","ERROR","LOAD","TIMEOUT","LOADEND","HTTP_STATUS_CODES","MOCKER_DATABASE_NAME","timeout","MockerBrowser","init","rootElement","document","createElement","className","innerHTML","body","appendChild","setInitialStyle","querySelector","onclick","switchStatus","bind","switchAdd","switchList","handleSave","window","mocker","status","classList","remove","add","event","open","close","style","display","then","items","map","ele","index","array","url","method","response","preventDefault","formElement","mock","value","db","createMockerDatabase","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","IDBTransaction","webkitIDBTransaction","msIDBTransaction","READ_WRITE","IDBKeyRange","webkitIDBKeyRange","msIDBKeyRange","request","onerror","Error","onsuccess","target","result","onupgradeneeded","objectStore","createObjectStore","keyPath","autoIncrement","createIndex","unique","getMockerRecord","o","checkMockerRecord","transaction","Promise","resolve","reject","get","e","getAllMockerRecord","openCursor","cursor","push","continue","addMockerRecord","deleteMockerRecord","updateMockerRecord","test","_XMLHttpRequest","XMLHttpRequest","_ActiveXObject","ActiveXObject","replaceXMLHttpRequest","MockerHttpRequest","resetXMLHttpRequest","Object","defineProperties","_xmlHttpRequest","writable","enumerable","configurable","_listeners","_requestHeader","config","record","onload","onloadend","onloadstart","onprogress","onreadystatechange","ontimeout","readyState","responseText","responseType","responseURL","responseXML","statusText","MockerHttpRequestPrototype","constructor","DONE","HEADERS_RECEIVED","LOADING","OPENED","UNSENT","abort","dispatchEvent","Event","getAllResponseHeaders","getResponseHeader","onabort","async","username","password","that","find","item","overrideMimeType","send","data","setRequestHeader","setTimeout","done","call","key","upload","MockXMLHttpRequestEventTarget","MockXMLHttpRequestEventTargetPrototype","MockEventTarget","MockEventTargetPrototype","addEventListener","type","callback","stack","i","length","removeEventListener","splice","prototype","createPrototypeChain","arguments","console","error","create","apply","Array","slice","getVariableType","toString","npmPackage","version","log"],"mappings":"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","file":"mocker.1.0.0.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cdca72944c576a124db1","/**\n * Created by mac on 17/1/24.\n */\n\nexport * from './Database';\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/Data/index.js","/**\n * Created by mac on 17/1/20.\n */\n// MockerHttpRequest\n\n// 默认mock延迟时间\nexport const MOCKERHTTPREQUEST_DELAY = 0;\n// 默认是否匹配到mock记录\n\nexport const XHR_EVENTS = {\n    READYSTATECHANGE: \"readystatechange\",\n    LOADSTART: \"loadstart\",\n    PROGRESS: \"progress\",\n    ABORT: \"abort\",\n    ERROR: \"error\",\n    LOAD: \"load\",\n    TIMEOUT: \"timeout\",\n    LOADEND: \"loadend\"\n};\n\nexport const HTTP_STATUS_CODES = {\n    100: \"Continue\",\n    101: \"Switching Protocols\",\n    200: \"OK\",\n    201: \"Created\",\n    202: \"Accepted\",\n    203: \"Non-Authoritative Information\",\n    204: \"No Content\",\n    205: \"Reset Content\",\n    206: \"Partial Content\",\n    300: \"Multiple Choice\",\n    301: \"Moved Permanently\",\n    302: \"Found\",\n    303: \"See Other\",\n    304: \"Not Modified\",\n    305: \"Use Proxy\",\n    307: \"Temporary Redirect\",\n    400: \"Bad Request\",\n    401: \"Unauthorized\",\n    402: \"Payment Required\",\n    403: \"Forbidden\",\n    404: \"Not Found\",\n    405: \"Method Not Allowed\",\n    406: \"Not Acceptable\",\n    407: \"Proxy Authentication Required\",\n    408: \"Request Timeout\",\n    409: \"Conflict\",\n    410: \"Gone\",\n    411: \"Length Required\",\n    412: \"Precondition Failed\",\n    413: \"Request Entity Too Large\",\n    414: \"Request-URI Too Long\",\n    415: \"Unsupported Media Type\",\n    416: \"Requested Range Not Satisfiable\",\n    417: \"Expectation Failed\",\n    422: \"Unprocessable Entity\",\n    500: \"Internal Server Error\",\n    501: \"Not Implemented\",\n    502: \"Bad Gateway\",\n    503: \"Service Unavailable\",\n    504: \"Gateway Timeout\",\n    505: \"HTTP Version Not Supported\"\n};\n\nexport const MOCKER_DATABASE_NAME = \"MockerDatabase\";\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/constant.js","import {\n    MOCKERHTTPREQUEST_DELAY,\n} from './constant';\n\nexport default {\n        timeout:MOCKERHTTPREQUEST_DELAY,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/config.js","/**\n * Created by mac on 17/2/4.\n */\n\nimport browserHtml from './Browser.html';\nimport {getAllMockerRecord} from '../Data';\n\n// 单例模式，因为视图仅出现一次\n\nlet MockerBrowser = {\n    init: function () {\n\n        let rootElement = document.createElement('div');\n        rootElement.className = 'mocker';\n        rootElement.innerHTML = browserHtml;\n\n        document.body.appendChild(rootElement);\n\n        // 初始化样式\n        this.setInitialStyle(rootElement);\n\n        // 激活工具面板\n        rootElement.querySelector('.mocker-switch-btn').onclick = this.switchStatus.bind(this, rootElement);\n\n        // 增加数据面板\n        rootElement.querySelector(\".mocker-table .add\").onclick = this.switchAdd.bind(this, rootElement);\n        // 查看数据列表\n        rootElement.querySelector(\".mocker-table .list\").onclick = this.switchList.bind(this, rootElement);\n        // 保存新的数据\n        rootElement.querySelector(\".mocker-table .save\").onclick = this.handleSave.bind(this, rootElement);\n    },\n    setInitialStyle: function (rootElement) {\n        if(window.mocker.status===0){\n            rootElement.querySelector('.mocker-icon').classList.remove('opened');\n\n        }else if(window.mocker.status ===1){\n            rootElement.querySelector('.mocker-icon').classList.add('opened');\n        }\n\n    },\n    switchStatus: function (rootElement, event) {\n\n        if(window.mocker.status===0){\n            rootElement.querySelector('.mocker-icon').classList.add('opened');\n            window.mocker && window.mocker.open();\n\n        }else if(window.mocker.status ===1){\n            rootElement.querySelector('.mocker-icon').classList.remove('opened');\n            window.mocker && window.mocker.close();\n        }\n\n    },\n    switchAdd: function (rootElement, event) {\n        if(rootElement.querySelector(\".form-add\").style.display === 'block'){\n            rootElement.querySelector(\".form-add\").style.display = 'none';\n        }else{\n            rootElement.querySelector(\".form-add\").style.display = 'block';\n            rootElement.querySelector(\".list-panel\").style.display = 'none';\n        }\n\n    },\n    switchList: function (rootElement) {\n        getAllMockerRecord().then(function (items) {\n            if(rootElement.querySelector(\".list-panel\").style.display === 'block'){\n                rootElement.querySelector(\".list-panel\").style.display = 'none';\n            }else{\n                rootElement.querySelector(\".form-add\").style.display = 'none';\n                rootElement.querySelector(\".list-panel\").style.display = 'block';\n\n                rootElement.querySelector('.mocker-list').innerHTML = items.map(function (ele, index, array) {\n                    return `<tr>\n                                <td>${ele.url}</td>\n                                <td>${ele.method}</td>\n                                <td>${ele.response}</td>\n                            </tr>`\n                });\n            }\n        });\n    },\n    handleSave: function (rootElement, event) {\n        event.preventDefault();\n\n        let formElement = rootElement.querySelector('.form-add');\n\n        mocker.mock({\n            url: formElement.querySelector(\"input[name=url]\").value,\n            method: formElement.querySelector(\"input[name=method]\").value,\n            response: formElement.querySelector(\"input[name=response]\").value\n        })\n\n        // 保存后开启mocker\n        if(window.mocker.status===0){\n            rootElement.querySelector('.mocker-icon').classList.add('opened');\n            window.mocker && window.mocker.open();\n        }\n    }\n\n};\nexport default MockerBrowser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/Gui/Browser.js","/**\n * Created by mac on 17/1/20.\n */\nimport {MockerHttpRequest} from './MockerHttpRequest';\n\nexport default MockerHttpRequest;\nexport * from './MockerHttpRequest';\n\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/MockerHttpRequest/index.js","module.exports = {\n\t\"name\": \"Mocker\",\n\t\"version\": \"1.0.0\",\n\t\"description\": \"A mock data management tool\",\n\t\"main\": \"index.js\",\n\t\"scripts\": {\n\t\t\"dev\": \" NODE_ENV=development webpack-dev-server --hot  --config config/webpack.config.js\",\n\t\t\"build\": \"npm run clean && NODE_ENV=production webpack --config config/webpack.config.js\",\n\t\t\"clean\": \"rm -rf dist\"\n\t},\n\t\"repository\": {\n\t\t\"type\": \"git\",\n\t\t\"url\": \"git+https://github.com/PaulShi666/Mocker.git\"\n\t},\n\t\"keywords\": [\n\t\t\"mock\",\n\t\t\"Http\"\n\t],\n\t\"author\": \"Paul\",\n\t\"license\": \"ISC\",\n\t\"bugs\": {\n\t\t\"url\": \"https://github.com/PaulShi666/Mocker/issues\"\n\t},\n\t\"homepage\": \"https://github.com/PaulShi666/Mocker#readme\",\n\t\"devDependencies\": {\n\t\t\"babel-core\": \"^6.22.1\",\n\t\t\"babel-loader\": \"^6.2.10\",\n\t\t\"babel-preset-es2015\": \"^6.22.0\",\n\t\t\"css-loader\": \"^0.26.1\",\n\t\t\"file-loader\": \"^0.10.0\",\n\t\t\"html-loader\": \"^0.4.4\",\n\t\t\"html-webpack-plugin\": \"^2.26.0\",\n\t\t\"url-loader\": \"^0.5.7\",\n\t\t\"webpack\": \"^2.2.1\",\n\t\t\"webpack-dev-server\": \"^1.16.2\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 5\n// module chunks = 0 1","import {MOCKER_DATABASE_NAME} from '../constant';\n\nlet db;\n\nfunction createMockerDatabase() {\n\n    //兼容性\n    let indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\n    let IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.msIDBTransaction || {READ_WRITE: \"readwrite\"};\n    let IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange || window.msIDBKeyRange;\n\n    let request = window.indexedDB.open(MOCKER_DATABASE_NAME);\n    request.onerror = function () {\n        throw new Error(\"数据库创建失败\")\n    };\n\n    request.onsuccess = function (event) {\n        db = event.target.result;\n    };\n\n    request.onupgradeneeded = function (event) {\n        db = event.target.result;\n\n        // 创建表结构\n        let objectStore = db.createObjectStore(\"records\", {\n            keyPath: \"id\",\n            autoIncrement: true\n        });\n\n        objectStore.createIndex(\"methodUrl\", [\"method\", \"url\"], {\n            unique: true\n        });\n\n    }\n\n\n}\nfunction getMockerRecord(o) {\n    checkMockerRecord(o);\n\n    let objectStore = db.transaction(\"records\", \"readonly\").objectStore(\"records\");\n\n    return new Promise(function (resolve, reject) {\n        // 根据索引查询\n        objectStore.index('methodUrl').get([o.method, o.url]).onsuccess = function (e) {\n            resolve(e.target.result);\n        }\n    });\n\n\n}\nfunction getAllMockerRecord(o) {\n    let items = [];\n\n    let objectStore = db.transaction(\"records\", \"readonly\").objectStore(\"records\");\n\n    return new Promise(function (resolve, reject) {\n        // 使用游标查询所有的数据\n        objectStore.openCursor().onsuccess = function (event) {\n            let cursor = event.target.result;\n            if (cursor) {\n                items.push(cursor.value);\n                cursor.continue();\n            }else{\n                resolve(items);\n            }\n\n        };\n    });\n}\nfunction addMockerRecord(o) {\n\n    checkMockerRecord(o);\n\n    let objectStore = db.transaction(\"records\", \"readwrite\").objectStore(\"records\");\n    let request = objectStore.add({\n        \"method\": o.method,\n        \"url\": o.url,\n        \"response\": o.response\n    });\n    request.onsuccess = function () {\n\n    };\n    request.onerror = function () {\n        throw new Error(\"Mocker数据库添加失败\");\n    }\n\n}\n\nfunction deleteMockerRecord(o) {\n\n}\n\nfunction updateMockerRecord(o) {\n\n}\n\nfunction checkMockerRecord(o) {\n    // 检测输入参数\n    if (!(typeof o === 'object' &&\n        typeof o.method === 'string' &&\n        typeof o.url === 'string' &&\n        /^(get|post)$/i.test(o.method))\n    ) {\n        throw new Error('数据库mock参数非法')\n    }\n}\n\nexport {\n    createMockerDatabase,\n    getMockerRecord,\n    getAllMockerRecord,\n    addMockerRecord,\n    deleteMockerRecord,\n    updateMockerRecord\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/Data/Database.js","/**\n * Created by mac on 17/1/20.\n */\n\nimport {createPrototypeChain, getVariableType} from '../util';\nimport {XHR_EVENTS, HTTP_STATUS_CODES} from '../constant';\nimport mockerConfig from '../config';\nimport {getMockerRecord} from '../Data';\n\n//保存原生XMLHttpRequest\nconst _XMLHttpRequest = window.XMLHttpRequest;\n//保存原生ActiveXObject\nconst _ActiveXObject = window.ActiveXObject;\n\n// 修改原生的XMLHttpRequest\nfunction replaceXMLHttpRequest() {\n    if (window.XMLHttpRequest) {\n        window.XMLHttpRequest = MockerHttpRequest;\n    }\n    if(window.mocker){\n        window.mocker.status = 1;\n    }\n}\n// 恢复原生的XMLHttpRequest\nfunction resetXMLHttpRequest() {\n    window.XMLHttpRequest = _XMLHttpRequest;\n    window.ActiveXObject = _ActiveXObject;\n    if(window.mocker){\n        window.mocker.status = 0;\n    }\n}\n\n\n//自定义XHR对象构造器\nfunction MockerHttpRequest() {\n\n    Object.defineProperties(this, {\n        _xmlHttpRequest: {\n            writable: false,\n            enumerable: false,\n            configurable: false\n        },\n        _listeners: {\n            value: {}\n        },\n        _requestHeader: {\n            value: {}\n\n        },\n        config: {\n            value: {\n                timeout: mockerConfig.timeout,\n                // 数据库mock记录（延迟对象）\n                record: null\n            }\n        },\n        onerror: {\n            value: null\n        },\n        onload: {\n            value: null\n        },\n        onloadend: {\n            value: null\n        },\n        onloadstart: {\n            value: null\n        },\n        onprogress: {\n            value: null\n\n        },\n        onreadystatechange: {\n            value: null\n        },\n        ontimeout: {\n            value: null\n        },\n        readyState: {\n            value: 0,\n            writable: true\n        },\n        response: {\n            value: '',\n            writable: true\n        },\n        responseText: {\n            value: '',\n            writable: true\n        },\n        responseType: {\n            value: ''\n        },\n        responseURL: {\n            value: ''\n        },\n        responseXML: {\n            value: null\n        },\n        status: {\n            value: 0,\n            writable: true\n        },\n        statusText: {\n            value: \"\",\n            writable: true\n\n        },\n        timeout: {\n            value: 0\n\n        }\n    });\n\n}\n\nlet MockerHttpRequestPrototype = {\n    constructor: {\n        value: MockerHttpRequest,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    },\n    DONE: {value: 4},\n    HEADERS_RECEIVED: {value: 2},\n    LOADING: {value: 3},\n    OPENED: {value: 1},\n    UNSENT: {value: 0},\n    abort: {\n        value: function () {\n            this.readyState = MockerHttpRequestPrototype.UNSENT.value;\n            this.dispatchEvent(new Event(XHR_EVENTS.ABORT));\n            this.dispatchEvent(new Event(XHR_EVENTS.ERROR));\n        }\n    },\n    getAllResponseHeaders: {\n        value: () => {\n        }\n    },\n    getResponseHeader: {\n        value: () => {\n        }\n    },\n    onabort: {},\n    onerror: {},\n    onload: {},\n    onloadend: {},\n    onloadstart: {},\n    onprogress: {},\n    onreadystatechange: {},\n    ontimeout: {},\n    open: {\n        //推荐不要用箭头函数,词法作用域错误\n        value: function (method, url, async, username, password) {\n\n\n            // 序列化请求\n            this.config.open = {\n                method: method,\n                url: url,\n                async: typeof async === 'boolean' ? async : true,\n                username: username,\n                password: password\n            };\n\n            let that = this;\n\n            //在Mock Indexdb记录中查询\n            this.config.record = find({method: method, url: url})\n                .then(function (item) {\n\n                    if (!item) {\n                        //在Mock记录中没有查询到\n\n\n                    } else {\n                        //在Mock记录中查询到\n\n                        that.readyState = MockerHttpRequestPrototype.OPENED.value;\n                        that.dispatchEvent(new Event(XHR_EVENTS.READYSTATECHANGE));\n                    }\n                    return item;\n                });\n\n\n        }\n    },\n    overrideMimeType: {\n        value: function () {\n        }\n    },\n    readyState: {},\n    response: {},\n    responseText: {},\n    responseType: {},\n    responseURL: {},\n    responseXML: {},\n    send: {\n        value: function (data) {\n\n\n            // 序列化请求\n\n            let that = this;\n\n            this.config.record.then(function (item) {\n                //已经在open 时使用Mock Indexdb记录中查询\n\n                if (!item) {\n                    //在Mock记录中没有查询到\n                } else {\n                    //在Mock记录中查询到\n                    that.response = that.responseText = item.response;\n\n                    that.setRequestHeader('X-Requested-With', 'MockXMLHttpRequest');\n                    that.dispatchEvent(new Event(XHR_EVENTS.LOADSTART));\n\n                    //使用settimeout模拟异步\n                    if (that.config.open.async === true) {\n                        window.setTimeout(done.bind(that), that.config.timeout);\n                    } else {\n                        done.call(that);\n                    }\n\n                }\n\n            });\n\n\n            function done() {\n                this.readyState = MockerHttpRequestPrototype.HEADERS_RECEIVED.value;\n                this.dispatchEvent(new Event(XHR_EVENTS.READYSTATECHANGE));\n\n                this.readyState = MockerHttpRequestPrototype.LOADING.value;\n                this.dispatchEvent(new Event(XHR_EVENTS.READYSTATECHANGE));\n\n                this.status = 200;\n\n                this.statusText = HTTP_STATUS_CODES[200];\n\n                this.readyState = MockerHttpRequestPrototype.DONE.value;\n\n                this.dispatchEvent(new Event(XHR_EVENTS.READYSTATECHANGE));\n                this.dispatchEvent(new Event(XHR_EVENTS.LOAD));\n                this.dispatchEvent(new Event(XHR_EVENTS.LOADEND));\n\n            }\n\n\n        }\n    },\n    setRequestHeader: {\n        value: function (key, value) {\n            if (key in this._requestHeader) {\n                this._requestHeader[key] = ',' + value;\n            } else {\n                this._requestHeader[key] = value;\n            }\n        }\n    },\n    status: {},\n    statusText: {},\n    timeout: {},\n    upload: {}\n};\n\nfunction MockXMLHttpRequestEventTarget() {\n}\n\nlet MockXMLHttpRequestEventTargetPrototype = {\n    constructor: {\n        value: MockXMLHttpRequestEventTarget,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    },\n    onabort: {},\n    onerror: {},\n    onload: {},\n    onloadend: {},\n    onloadstart: {},\n    onprogress: {},\n    ontimeout: {},\n};\nfunction MockEventTarget() {\n\n}\nlet MockEventTargetPrototype = {\n    constructor: {\n        value: MockEventTarget,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    },\n    addEventListener: {\n        value: function (type, callback) {\n            // type = 'on' + type;\n\n            if (!(type in this._listeners)) {\n                this._listeners[type] = []\n            }\n\n            this._listeners[type].push(callback);\n\n            // 把回调函数返回，方便移除\n            return callback;\n        }\n    },\n    dispatchEvent: {\n        value: function (event) {\n            if (!(event.type in this._listeners)) {\n                return;\n            }\n\n            let stack = this._listeners[event.type];\n\n            if (getVariableType(stack) !== 'Array') {\n                return;\n            }\n            // 事件目标改写\n            // event.target = this;\n\n            for (let i = 0; i < stack.length; i++) {\n                stack[i].call(this, event);\n            }\n        }\n    },\n    removeEventListener: {\n        value: function (type, callback) {\n            if (!(type in this._listeners)) {\n                return;\n            }\n\n            let stack = this._listeners[type];\n\n            if (getVariableType(stack) !== 'Array') {\n                return;\n            }\n\n            for (let i = 0; i < stack.length; i++) {\n                if (stack[i] === callback\n                ) {\n                    stack[i].splice(i, 1);\n                    i--;\n                }\n            }\n        }\n    }\n};\nfunction find(o) {\n    return getMockerRecord(o);\n}\n\n//MockerHttpRequest原型链模拟\nMockerHttpRequest.prototype = createPrototypeChain(\n    MockerHttpRequestPrototype,\n    MockXMLHttpRequestEventTargetPrototype,\n    MockEventTargetPrototype\n);\n\n\nexport {MockerHttpRequest, replaceXMLHttpRequest, resetXMLHttpRequest};\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/MockerHttpRequest/MockerHttpRequest.js","/**\n * Created by mac on 17/1/20.\n */\n\n//使用Object.create建立原型链继承关系\nfunction createPrototypeChain() {\n    // console.log(arguments);\n    if (typeof arguments[0] !== 'object') {\n        console.error('原型链属性为对象类型');\n        return;\n    }\n\n    if (arguments.length === 1) {\n        return Object.create(Object.prototype, arguments[0]);\n    } else {\n        return Object.create(\n            createPrototypeChain.apply(null, Array.prototype.slice.call(arguments, 1)),\n            arguments[0]\n        );\n    }\n}\n\n// 获取精确类型\nfunction getVariableType(o) {\n    return Object.prototype.toString.call(o).slice(8, -1);\n}\n\nexport {createPrototypeChain, getVariableType}\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/util/Util.js","/**\n * Created by mac on 17/1/20.\n */\nexport * from './Util'\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/util/index.js","module.exports = \"<style>\\n    .mocker {\\n\\n    }\\n\\n    .mocker .mocker-container {\\n        border-radius: 10px;\\n        position: fixed;\\n        background: #F0F0F0;\\n        right: 10px;\\n        top: 10px;\\n        text-align: center;\\n        padding: 5px;\\n    }\\n\\n    .mocker .mocker-icon {\\n        fill: #334ff9;\\n    }\\n\\n    .mocker .mocker-icon.opened {\\n        fill: #fd0000;\\n    }\\n\\n    .mocker .mocker-switch-btn {\\n        border: none;\\n        background: transparent;\\n\\n        padding: 5px 10px;\\n        margin: 0;\\n        outline: none;\\n    }\\n\\n    .mocker .mocker-table {\\n\\n    }\\n\\n</style>\\n<script>\\n\\n</script>\\n<div class=\\\"mocker-container\\\">\\n    <button class=\\\"mocker-switch-btn\\\">\\n        <svg class=\\\"mocker-icon\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n             xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"32\\\" height=\\\"32\\\" viewBox=\\\"0 0 32 32\\\">\\n            <path d=\\\"M22 2l-10 10h-6l-6 8c0 0 6.357-1.77 10.065-0.94l-10.065 12.94 13.184-10.255c1.839 4.208-1.184 10.255-1.184 10.255l8-6v-6l10-10 2-10-10 2z\\\"></path>\\n        </svg>\\n    </button>\\n    <div class=\\\"mocker-table\\\">\\n\\n        <button class=\\\"add\\\">增加</button>\\n        <button class=\\\"list\\\">数据</button>\\n\\n        <form style=\\\"display: none\\\" action=\\\"\\\" class=\\\"form-add\\\">\\n            <p>\\n                <label>\\n                    <input placeholder=\\\"请求路径\\\" type=\\\"text\\\" name=\\\"url\\\"/>\\n                </label>\\n            </p>\\n            <p>\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"method\\\" value=\\\"get\\\">get\\n                </label>\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"method\\\" value=\\\"post\\\">post\\n                </label>\\n            </p>\\n\\n            <p>\\n                <input placeholder=\\\"响应数据\\\" name=\\\"response\\\" type=\\\"text\\\">\\n            </p>\\n\\n            <button class=\\\"save\\\">保存</button>\\n        </form>\\n\\n        <table style=\\\"display: none\\\" class=\\\"list-panel\\\">\\n            <thead>\\n            <tr>\\n                <td>请求路径</td>\\n                <td>请求方式</td>\\n                <td>响应数据</td>\\n            </tr>\\n            </thead>\\n            <tbody class=\\\"mocker-list\\\">\\n\\n            </tbody>\\n        </table>\\n    </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mocker/Gui/Browser.html\n// module id = 10\n// module chunks = 0 1","/**\n * Created by mac on 17/1/17.\n */\n\nimport * as npmPackage from '../../package.json';\nimport mockerConfig from './config';\n\nimport {createMockerDatabase, addMockerRecord} from './Data';\nimport {\n    MockerHttpRequest,\n    replaceXMLHttpRequest,\n    resetXMLHttpRequest,\n} from './MockerHttpRequest';\nimport  MockerBrowser from './Gui/Browser';\n\n// 初始化Mocker\nconst mocker = {\n    open:replaceXMLHttpRequest,\n    close: resetXMLHttpRequest,\n    status:0,\n    config: mockerConfig,\n    version: npmPackage.version,\n    mock: function () {\n        addMockerRecord.apply(this, arguments);\n    }\n};\n\n\n// 给window对象增加mocker接口\nif (!window.mocker || window.mocker.version !== mocker.version) {\n    window.mocker = mocker;\n}\n\n//初始化Mocker对应数据库\ntry {\n    createMockerDatabase();\n} catch (e) {\n    console.log('初始化Mocker数据库失败',e);\n}\n\n// 初始化MockerBrowser\ntry {\n    MockerBrowser.init();\n} catch (e) {\n    console.log('初始化MockerGui失败',e);\n}\n\n\n\nexport default mocker\n\n\n// WEBPACK FOOTER //\n// ./src/mocker/index.js"],"sourceRoot":""}